{% extends "layout.html" %}

{% block title %}Edit {{ title }}{% endblock %}

{% block content %}
<div class="container">
	<a href="{{ request.path.replace('/edit', '') }}">Back to View</a></br>
	<a href="{{ request.path.replace('/edit', '/new') }}">New</a>
	<h1>{{ title }}:</h1>
	<table class="info-table">
		{% for item in items %}
			{% if item.name %}
                {# If there's a name, use it in the URL #}
                <tr>
					<th><a href="{{ request.path }}/{{ item.name }}">{{ item.name }}</a></th>
					<td><a href="{{ request.path.replace('/edit', '') }}/{{ item.name }}/delete">delete</a></td>
				</tr>
            {% else %}
                {# Otherwise, use the _id #}
				<tr>
					<th><a href="{{ request.path }}/{{ item._id|string }}">{{ item._id }}</a></th>
					<td><a href="{{ request.path.replace('/edit', '') }}/{{ item._id|string }}/delete">delete</a></td>
				</tr>
            {% endif %}
		{% endfor %}
	</table>
</div>
{% endblock %}
